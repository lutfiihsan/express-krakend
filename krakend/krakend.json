{
	"version": 2,
	"name": "Express API Gateway Production",
	"max_idle_connections": 200,
	"extra_config":{
		{{ include "krakend_cors.tpl" }},
		{{ include "krakend_gobreaker.tpl" }},
		{{ include "krakend_gologging.tpl" }},
		{{ include "krakend_proxy.tpl" }}
	},
	"endpoints": [
		{{ range .test.route.login }}
		{
			"endpoint": "{{ .endpoint }}",
			"method": "{{ .method }}",
			"concurrent_calls": "{{ .concurrent_calls }}",
			"headers_to_pass": {{ marshal .headers_to_pass }},
			"output_encoding": "{{ .output_encoding }}",
			"cache_ttl": "{{ .cache_ttl }}",
			"timeout": "{{ .timeout }}",
			"backend": {{ marshal .backend }}
		},
		{{ end }}
		{{ range .test.route.register }}
		{
			"endpoint": "{{ .endpoint }}",
			"method": "{{ .method }}",
			"concurrent_calls": "{{ .concurrent_calls }}",
			"headers_to_pass": {{ marshal .headers_to_pass }},
			"output_encoding": "{{ .output_encoding }}",
			"cache_ttl": "{{ .cache_ttl }}",
			"timeout": "{{ .timeout }}",
			"backend": {{ marshal .backend }}
		}
		{{ end }}
	]
}
